DOCUMENTACIÓN DE ARQUITECTURA - LEARNATION WORKERS

1. ESPECIFICACIONES TÉCNICAS
--------------------------------
Backend:
- Lenguaje: Python 3.9+
- Framework: Flask (API-only)
- ORM: SQLAlchemy (Flask-SQLAlchemy)
- Migraciones: Flask-Migrate (Alembic con batch mode para SQLite)
- API: RESTful (JSON)

Frontend:
- Framework: React (Vite)
- Estilos: Tailwind CSS
- Iconografía: Lucide React

Base de Datos:
- Desarrollo Local: SQLite (instance/local.db)
- Producción: PostgreSQL

2. ESTRUCTURA DE ARCHIVOS ACTUAL
--------------------------------
/app
  /api                -> Blueprints de API JSON
    /auth.py          -> Endpoints de login/logout/me
    /admin.py         -> Endpoints de datos administrativos y Operaciones
    /closer.py        -> Endpoints para Closers (Dashboard, Leads)
    /public.py        -> Endpoints públicos (Booking, Encuestas)
  /services           -> Capa de Lógica de Negocio
    /admin_ops_service.py -> Generación de datos mock y limpieza
    /user_service.py      -> Gestión de Usuarios y Clientes
    /booking_service.py   -> Lógica de agendamiento
  /models.py          -> Modelos de BD (User = System, Client = Business)
  /__init__.py        -> Configuración con Naming Convention para Migraciones

/frontend             -> Aplicación React SPA (Vite)
  /src
    /pages
      /OperationsPage.jsx -> Herramientas de administración de datos
      /AdminDashboard.jsx -> Dashboard principal
    /components
      /MainLayout.jsx    -> Sidebar dinámico por rol
  /dist               -> Build de producción

3. MODELO DE DATOS (NUEVO)
----------------------------------------
- User: Solo para personal del sistema (Admins, Closers).
- Client: Entidad de negocio (Leads, Estudiantes). Independiente de roles de login.
- Appointment: Vincula a un Closer (User) con un Client.
- Enrollment: Vincula a un Closer (User) con un Client y un Program.
- SurveyAnswer: Vincula respuestas a un Client.

4. FLUJO DE TRABAJO
----------------------------------------
- Mock Data: Usar pestaña "Operaciones" en Admin para poblar el sistema rápidamente.
- Migraciones: `flask db migrate` y `flask db upgrade` siempre habilitados.
